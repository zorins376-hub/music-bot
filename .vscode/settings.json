{
  "chat.tools.terminal.autoApprove": {
    "/^node -e \"\nconst AdmZip = require\\('adm-zip'\\);\n\" 2>&1 ; echo \"no adm-zip\"\nnode --version 2>&1$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "/^node -e \"\nconst fs = require\\('fs'\\);\nconst zlib = require\\('zlib'\\);\nconst path = require\\('path'\\);\n\n// Read docx as zip using built-in\nconst buf = fs\\.readFileSync\\('C:/Users/sherh/music-bot/tz-music-bot\\.docx'\\);\n\n// Find local file headers\nlet pos = 0;\nconst files = \\{\\};\n\nwhile \\(pos < buf\\.length - 4\\) \\{\n  if \\(buf\\[pos\\] === 0x50 && buf\\[pos\\+1\\] === 0x4B && buf\\[pos\\+2\\] === 0x03 && buf\\[pos\\+3\\] === 0x04\\) \\{\n    const compression = buf\\.readUInt16LE\\(pos \\+ 8\\);\n    const compressedSize = buf\\.readUInt32LE\\(pos \\+ 18\\);\n    const uncompressedSize = buf\\.readUInt32LE\\(pos \\+ 22\\);\n    const fileNameLen = buf\\.readUInt16LE\\(pos \\+ 26\\);\n    const extraLen = buf\\.readUInt16LE\\(pos \\+ 28\\);\n    const fileName = buf\\.slice\\(pos \\+ 30, pos \\+ 30 \\+ fileNameLen\\)\\.toString\\('utf8'\\);\n    const dataStart = pos \\+ 30 \\+ fileNameLen \\+ extraLen;\n    const data = buf\\.slice\\(dataStart, dataStart \\+ compressedSize\\);\n    \n    if \\(fileName === 'word/document\\.xml'\\) \\{\n      let xml;\n      if \\(compression === 8\\) \\{\n        xml = zlib\\.inflateRawSync\\(data\\)\\.toString\\('utf8'\\);\n      \\} else \\{\n        xml = data\\.toString\\('utf8'\\);\n      \\}\n      // Extract text between <w:t> tags\n      const matches = xml\\.match\\(/<w:t\\[\\^>\\]\\*>\\(\\[\\^<\\]\\*\\)<\\\\/w:t>/g\\) \\|\\| \\[\\];\n      const paras = xml\\.match\\(/<w:p\\[ >\\]\\[\\\\s\\\\S\\]\\*\\?<\\\\/w:p>/g\\) \\|\\| \\[\\];\n      let result = '';\n      paras\\.forEach\\(p => \\{\n        const ts = p\\.match\\(/<w:t\\[\\^>\\]\\*>\\(\\[\\^<\\]\\*\\)<\\\\/w:t>/g\\) \\|\\| \\[\\];\n        const text = ts\\.map\\(t => t\\.replace\\(/<\\[\\^>\\]\\+>/g, ''\\)\\)\\.join\\(''\\);\n        if \\(text\\.trim\\(\\)\\) result \\+= text \\+ '\\\\n';\n      \\}\\);\n      console\\.log\\(result\\);\n      break;\n    \\}\n    pos = dataStart \\+ compressedSize;\n  \\} else \\{\n    pos\\+\\+;\n  \\}\n\\}\n\"$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "/^node -e \"\nconst fs = require\\('fs'\\);\nconst zlib = require\\('zlib'\\);\n\nconst buf = fs\\.readFileSync\\('C:/Users/sherh/music-bot/blackroom-radio-tz\\.docx'\\);\nlet pos = 0;\n\nwhile \\(pos < buf\\.length - 4\\) \\{\n  if \\(buf\\[pos\\] === 0x50 && buf\\[pos\\+1\\] === 0x4B && buf\\[pos\\+2\\] === 0x03 && buf\\[pos\\+3\\] === 0x04\\) \\{\n    const compression = buf\\.readUInt16LE\\(pos \\+ 8\\);\n    const compressedSize = buf\\.readUInt32LE\\(pos \\+ 18\\);\n    const fileNameLen = buf\\.readUInt16LE\\(pos \\+ 26\\);\n    const extraLen = buf\\.readUInt16LE\\(pos \\+ 28\\);\n    const fileName = buf\\.slice\\(pos \\+ 30, pos \\+ 30 \\+ fileNameLen\\)\\.toString\\('utf8'\\);\n    const dataStart = pos \\+ 30 \\+ fileNameLen \\+ extraLen;\n    const data = buf\\.slice\\(dataStart, dataStart \\+ compressedSize\\);\n\n    if \\(fileName === 'word/document\\.xml'\\) \\{\n      let xml;\n      if \\(compression === 8\\) \\{\n        xml = zlib\\.inflateRawSync\\(data\\)\\.toString\\('utf8'\\);\n      \\} else \\{\n        xml = data\\.toString\\('utf8'\\);\n      \\}\n      const paras = xml\\.match\\(/<w:p\\[ >\\]\\[\\\\s\\\\S\\]\\*\\?<\\\\/w:p>/g\\) \\|\\| \\[\\];\n      let result = '';\n      paras\\.forEach\\(p => \\{\n        const ts = p\\.match\\(/<w:t\\[\\^>\\]\\*>\\(\\[\\^<\\]\\*\\)<\\\\/w:t>/g\\) \\|\\| \\[\\];\n        const text = ts\\.map\\(t => t\\.replace\\(/<\\[\\^>\\]\\+>/g, ''\\)\\)\\.join\\(''\\);\n        if \\(text\\.trim\\(\\)\\) result \\+= text \\+ '\\\\n';\n      \\}\\);\n      console\\.log\\(result\\);\n      break;\n    \\}\n    pos = dataStart \\+ compressedSize;\n  \\} else \\{\n    pos\\+\\+;\n  \\}\n\\}\n\"$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "/^python -c \"\nimport json\n\nkg_data = \\{\n  'start_message': 'üéß <b>BLACK ROOM RADIO BOT</b>\\\\n\\\\n–°–∞–ª–∞–º–∞—Ç—Å—ã–∑–±—ã, \\{name\\}!\\\\n\\\\nTelegram\\\\'–¥–∞–≥—ã –∂–µ–∫–µ DJ\\\\'—ã“£\\.\\\\n\\\\n<i>TEQUILA MUSIC ¬∑ FULLMOON TRIP SOUND ¬∑ BLACK ROOM</i>',\n  'help_message': '<b>–ë—É–π—Ä—É–∫—Ç–∞—Ä:</b>\\\\n/search &lt;—Å—É—Ä–æ–æ&gt; ‚Äî —ã—Ä –∏–∑–¥”©”©\\\\n/top ‚Äî —Ç–æ–ø —ã—Ä–ª–∞—Ä\\\\n/history ‚Äî —Å–æ“£–∫—É —Å—É—Ä–æ–æ–ª–æ—Ä—É“£\\\\n/lang ‚Äî —Ç–∏–ª ”©–∑–≥”©—Ä—Ç“Ø“Ø\\\\n/help ‚Äî –±—É–ª –∂–∞—Ä–¥–∞–º\\\\n\\\\n<b>–ñ–µ –∂”©–Ω —ç–ª–µ —ã—Ä–¥—ã–Ω –∞—Ç—ã–Ω –∂–∞–∑</b> ‚Äî –±–æ—Ç ”©–∑“Ø —Ç–∞–±–∞—Ç\\.',\n  'search_prompt': '–´—Ä–¥—ã–Ω –∞—Ç—ã–Ω –∂–µ –∞—Ç–∫–∞—Ä—É—É—á—É–Ω—É –∂–∞–∑:',\n  'searching': 'üîç –ò–∑–¥–µ–ø –∂–∞—Ç–∞–º\\.\\.\\.',\n  'no_results': '–≠—á –Ω–µ—Ä—Å–µ —Ç–∞–±—ã–ª–≥–∞–Ω –∂–æ–∫\\. –°—É—Ä–æ–æ–Ω—É —Ç–∞–∫ –∂–∞–∑\\.',\n  'downloading': '‚¨áÔ∏è –ñ“Ø–∫—Ç”©–ø –∂–∞—Ç–∞–º\\.\\.\\.',\n  'error_download': '–´—Ä–¥—ã –∂“Ø–∫—Ç”©–ø –∞–ª—É—É –º“Ø–º–∫“Ø–Ω –±–æ–ª–≥–æ–Ω –∂–æ–∫\\. –ë–∞—à–∫–∞ —ã—Ä–¥—ã —Å—ã–Ω–∞–ø –∫”©—Ä\\.',\n  'error_too_large': '‚ö†Ô∏è –´—Ä ”©—Ç”© —á–æ“£\\. –ö–∏—á–∏—Ä—ç—ç–∫ —Å–∞–ø–∞—Ç—Ç–∞ –∞—Ä–∞–∫–µ—Ç –∫—ã–ª—ã–ø –∂–∞—Ç–∞–º\\.\\.\\.',\n  'error_too_large_final': '–´—Ä Telegram –∞—Ä–∫—ã–ª—É—É –∂”©–Ω”©—Ç“Ø“Ø–≥”© ”©—Ç”© —É–∑—É–Ω\\.',\n  'error_too_long': '–´—Ä 10 –º“Ø–Ω”©—Ç—Ç”©–Ω —É–∑—É–Ω ‚Äî –∂“Ø–∫—Ç”©–ø –∞–ª–∞ –∞–ª–±–∞–π–º\\.',\n  'rate_limit_cooldown': '‚è≥ –ö–∏–π–∏–Ω–∫–∏ —Å—É—Ä–æ–æ–≥–æ \\{seconds\\} —Å–µ–∫\\. –∫“Ø—Ç“Ø“£“Ø–∑\\.',\n  'rate_limit_exceeded': 'üö´ –°–∞–∞—Ç –∏—á–∏–Ω–¥–µ–≥–∏ —á–µ–∫ \\(10 —ã—Ä\\) –∞—à—Ç—ã–∫\\. Premium –∞–ª—É—É –º–µ–Ω–µ–Ω —á–µ–∫—Å–∏–∑ –∫–æ–ª–¥–æ–Ω\\.',\n  'history_empty': '–°–∏–∑ –∞–∑—ã—Ä—ã–Ω—á–∞ —ç—á –Ω–µ—Ä—Å–µ –∏–∑–¥–µ–ª–≥–µ–Ω –∂–æ–∫—Å—É–∑\\.',\n  'history_header': '<b>–°–æ“£–∫—É —Å—É—Ä–æ–æ–ª–æ—Ä—É“£—É–∑:</b>',\n  'top_empty': '–ê–∑—ã—Ä—ã–Ω—á–∞ –º–∞–∞–ª—ã–º–∞—Ç –∂–æ–∫\\.',\n  'top_header': '<b>üìä –¢–æ–ø —ã—Ä–ª–∞—Ä:</b>',\n  'lang_changed': '–¢–∏–ª –ö—ã—Ä–≥—ã–∑—á–∞–≥–∞ ”©–∑–≥”©—Ä—Ç“Ø–ª–¥“Ø\\.',\n  'choose_lang': '–í—ã–±–µ—Ä–∏ —è–∑—ã–∫ / Choose language:',\n  'stats_header': '<b>üìä –ë–æ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞—Å—ã:</b>',\n  'stats_users': 'üë• –ö–æ–ª–¥–æ–Ω—É—É—á—É–ª–∞—Ä: \\{count\\}',\n  'stats_tracks': 'üéµ –ë–∞–∑–∞–¥–∞–≥—ã —ã—Ä–ª–∞—Ä: \\{count\\}',\n  'stats_requests': 'üì• –ñ–∞–ª–ø—ã —Å—É—Ä–æ–æ–ª–æ—Ä: \\{count\\}',\n  'session_expired': '–ò–∑–¥”©”© –º”©”©–Ω”©—Ç“Ø –±“Ø—Ç—Ç“Ø\\. –ö–∞–π—Ä–∞ –∂–∞–∑\\.',\n  'radio_tequila_offline': '‚ñ∂Ô∏è <b>TEQUILA LIVE</b>\\\\n\\\\n–≠—Ñ–∏—Ä –∂–∞–∫—ã–Ω–¥–∞ –±–∞—à—Ç–∞–ª–∞—Ç\\.',\n  'radio_fullmoon_offline': 'üåï <b>FULLMOON LIVE</b>\\\\n\\\\n–≠—Ñ–∏—Ä –∂–∞–∫—ã–Ω–¥–∞ –±–∞—à—Ç–∞–ª–∞—Ç\\.',\n  'automix_coming_soon': 'üî• <b>AUTO MIX</b>\\\\n\\\\n–ê–≤—Ç–æ–º–∏–∫—Å–∏–Ω–≥ –∂–∞–∫—ã–Ω–¥–∞ –∂–µ—Ç–∫–∏–ª–∏–∫—Ç“Ø“Ø –±–æ–ª–æ—Ç!',\n  'radio_nothing_playing': '–ê–∑—ã—Ä —ç—á –Ω–µ—Ä—Å–µ –æ–π–Ω–æ–±–æ–π—Ç\\.',\n  'recommend_no_history': 'üß† –ë–∏—Ä –Ω–µ—á–µ —ã—Ä–¥—ã —É–≥—É–ø –∞–ª—ã“£—ã–∑ ‚Äî –º–µ–Ω —Å–∏–∑–≥–µ –º—É–∑—ã–∫–∞ —Ç–∞–Ω–¥–∞–π–º\\.',\n  'recommend_header': 'üß† <b>–°–∏–∑–¥–∏–Ω –≤–∫—É—Å—É“£—É–∑–≥–∞ —ã–ª–∞–π—ã–∫:</b>',\n  'recommend_footer': '–ö”©–±“Ø—Ä”©”©–∫ —É–≥—É“£—É–∑ ‚Äî —Å—É–Ω—É—à—Ç–∞—Ä —Ç–∞–∫ –±–æ–ª–æ—Ç\\.',\n  'premium_info': 'üíé <b>BLACK ROOM Premium</b>\\\\n\\\\n–ß–µ–∫—Å–∏–∑ —ã—Ä–ª–∞—Ä ¬∑ 320 kbps ¬∑ VIP-—ç—Ñ–∏—Ä',\n  'premium_active': 'üíé Premium –∞–∫—Ç–∏–≤–¥“Ø“Ø\\. –´—Ä–∞—Ö–∞—Ç –∞–ª—ã“£—ã–∑!',\n  'premium_soon': '‚≠ê Telegram Stars –∞—Ä–∫—ã–ª—É—É —Ç”©–ª”©–º –∂–∞–∫—ã–Ω–¥–∞!'\n\\}\n\nwith open\\('C:/Users/sherh/music-bot/bot/i18n/kg\\.json', 'w', encoding='utf-8'\\) as f:\n    json\\.dump\\(kg_data, f, ensure_ascii=False, indent=2\\)\n\nprint\\('kg\\.json written successfully'\\)\n\"\n$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "pip": true,
    "/^python c:\\\\Users\\\\sherh\\\\music-bot\\\\test_cookie\\.py$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "Tee-Object": true,
    "git add": true,
    "git commit": true,
    "git push": true,
    "/^python -m py_compile bot/handlers/charts\\.py ; echo \"OK\"$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "railway": true,
    "/^railway variables --json 2>&1 \\| python -c \"import sys,json; d=json\\.load\\(sys\\.stdin\\); \\[print\\(k,'=',v\\) for k,v in d\\.items\\(\\) if 'redis' in k\\.lower\\(\\)\\]\"$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "/^python -m py_compile bot/handlers/search\\.py ; echo OK$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "pip3": true,
    "/^cd c:\\\\Users\\\\sherh\\\\music-bot ; python -c \"\nimport ast, sys\nfiles = \\[\n    'bot/services/yandex_provider\\.py',\n    'bot/handlers/search\\.py',\n\\]\nok = True\nfor f in files:\n    try:\n        ast\\.parse\\(open\\(f, encoding='utf-8'\\)\\.read\\(\\)\\)\n        print\\(f'OK  \\{f\\}'\\)\n    except SyntaxError as e:\n        print\\(f'ERR \\{f\\}: \\{e\\}'\\)\n        ok = False\nsys\\.exit\\(0 if ok else 1\\)\n\"$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "/^cd c:\\\\Users\\\\sherh\\\\music-bot ; python -c \"\nimport json, sys\nfor f in \\['bot/i18n/ru\\.json', 'bot/i18n/en\\.json', 'bot/i18n/kg\\.json'\\]:\n    try:\n        json\\.load\\(open\\(f, encoding='utf-8'\\)\\)\n        print\\(f'OK  \\{f\\}'\\)\n    except Exception as e:\n        print\\(f'ERR \\{f\\}: \\{e\\}'\\)\n        sys\\.exit\\(1\\)\n\"$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "/^cd c:\\\\Users\\\\sherh\\\\music-bot ; python -c \"\nfrom bot\\.services\\.yandex_provider import is_yandex_music_url, _YANDEX_TRACK_RE\ntests = \\[\n    \\('https://music\\.yandex\\.ru/album/36480973/track/138819422', True, '138819422'\\),\n    \\('https://music\\.yandex\\.ru/album/36480973/track/138819422\\?utm_medium=copy_link&ref_id=abc', True, '138819422'\\),\n    \\('https://music\\.yandex\\.com/album/123/track/456', True, '456'\\),\n    \\('https://music\\.yandex\\.kz/album/99/track/77', True, '77'\\),\n    \\('https://open\\.spotify\\.com/track/abc123', False, None\\),\n    \\('just some text', False, None\\),\n\\]\nok = True\nfor url, expected, expected_id in tests:\n    result = is_yandex_music_url\\(url\\)\n    if result != expected:\n        print\\(f'FAIL: \\{url\\} -> \\{result\\} \\(expected \\{expected\\}\\)'\\)\n        ok = False\n    elif expected_id:\n        m = _YANDEX_TRACK_RE\\.search\\(url\\)\n        tid = m\\.group\\(1\\)\n        if tid != expected_id:\n            print\\(f'FAIL ID: \\{url\\} -> \\{tid\\} \\(expected \\{expected_id\\}\\)'\\)\n            ok = False\n        else:\n            print\\(f'OK: \\{url\\} -> track_id=\\{tid\\}'\\)\n    else:\n        print\\(f'OK: \\{url\\} -> not a YM link'\\)\nif ok:\n    print\\('All tests passed!'\\)\n\"$/": {
      "approve": true,
      "matchCommandLine": true
    }
  },
  "python-envs.defaultEnvManager": "ms-python.python:system"
}